#### 这是大致的基础的雏形。
#### 就是把基础的需要的接口大致写了一下。
#### 还有很多的东西
#### 搞不定！！！！！
#### 这两天先把需求API给整理到易班上

[Flask实现图片的上传、下载及展示](https://blog.csdn.net/weixin_36380516/article/details/80347192) 可以用来实现头像，至于文章的图片怎么处理还需要看看

## ##

## 首页 ##

1.  获取竞赛推文接口

>   URL：/home/compete

>   说明：无

>   提交参数：

| 参数 | 类型 | 是否必须 | 说明                         |
|------|------|----------|------------------------------|
| sort | int  | 是       | 0为按热度排序，1为按日期排序 |

>   返回参数：

| 参数  | 类型    | 说明           |
|-------|---------|----------------|
| data    | json数组     | 竞赛列表     |


>   data：

| 参数  | 类型    | 说明           |
|-------|---------|----------------|
| id    | int     | 返回推文id     |
| title | varchar | 返回推文标题   |
| time  | date    | 推文的发布日期 |
| pageviews | int     | 推文被浏览的次数（可用于排序） |
| author | varchar     | 来源 |

2.  获取活动推文接口

>   URL：/home/activity

>   说明：无

>   提交参数：

| 参数 | 类型 | 是否必须 | 说明                         |
|------|------|----------|------------------------------|
| sort | int  | 是       | 0为按热度排序，1为按日期排序 |

>   返回参数：

| 参数      | 类型    | 说明                           |
|-----------|---------|--------------------------------|
| data        | json数组 | 活动列表                     |


>   data:

| 参数      | 类型    | 说明                           |
|-----------|---------|--------------------------------|
| id        | varchar | 返回推文id                     |
| title     | varchar | 返回推文标题                   |
| time      | date    | 推文的发布日期（可用于排序）   |
| pageviews | int     | 推文被浏览的次数（可用于排序） |
| author | varchar     | 来源 |

2.  搜索接口

>   URL：/search

>   说明：无

>   提交参数：

| 参数    | 类型    | 是否必须 | 说明         |
|---------|---------|----------|--------------|
| competition | varchar | competition 和 activity 必选一个     | 搜索keywork，搜索竞赛 |
| activity  | varchar     | competition 和 activity 必选一个       | 搜索keywork，搜索活动       |
| userid  | varchar     | 用户的id       | 保存搜索历史    |

>   返回参数：

| 参数  | 类型    | 说明           |
|-------|---------|----------------|
| data    | json数组     | json数组格式与活动或者竞赛列表data格式一样   |

## 活动内容 ##

1.获取活动内容接口

>   URL：/activity/detail

>   提交参数：

| 参数   | 类型    | 是否必须 | 说明              |
|--------|---------|----------|-------------------|
| id     | int     | 是       | 提交推文id        |
| userid | varchar | 是       | 若未登录则提交--1 |

>   返回参数：

| 参数       | 类型    | 说明                                |
|------------|---------|-------------------------------------|
| title      | varchar | 返回推文标题                        |
| content    | varchar | 返回推文的全部内容                  |
| time       | date    | 推文的发布日期                      |
| pageviews  | int     | 推文被浏览的次数                    |
| author     | varchar | 返回推文的作者                      |
| collection | int     | 1为该文章被收藏，-1为该文章未被收藏 |
| comments| json数组  | 评论列表|

>   comments :

| 参数       | 类型    | 说明                                |
|------------|---------|-------------------------------------|
| id         | int     | 返回评论的id                        |
| author     | varchar | 返回评论的作者                      |
| avatar     | varchar | 返回作者的头像链接                  |
| content    | varchar | 返回评论的内容                      |
| time       | date    | 评论的发布日期                      |
| number     | int     | 评论被回复的数量                    |
| userid| int     | 评论作者的id                    |

2.获取活动相关评论的回复的接口

>   URL：/reply

>   说明：无

>   提交参数：

| 参数 | 类型 | 是否必须 | 说明         |
|------|------|----------|--------------|
| id   | int  | 是       | 提交评论的id |

>   返回参数：

| 参数    | 类型    | 说明                     |
|---------|---------|--------------------------|
| comments| json数组  | 评论列表|


>   comments:

| 参数       | 类型    | 说明                                |
|------------|---------|-------------------------------------|
| id         | int     | 返回评论的id                        |
| author     | varchar | 返回评论的作者                      |
| avatar     | varchar | 返回作者的头像链接                  |
| content    | varchar | 返回评论的内容                      |
| time       | date    | 评论的发布日期                      |
| number     | int     | 评论被回复的数量                    |
| userid| int     | 评论作者的id                    |
| id   | int  | 评论的id |

3.提交评论接口

>   URL：/comment

>   说明：activityid、blogid、commentid、前两个是评论需要的，最后一个是回复需要的。无论是评论还是回复，均需要userid和content

提交参数：

| 参数    | 类型    | 是否必须 | 说明             |
|---------|---------|----------|------------------|
| userid  | int     | 是       | 发表评论的用户id |
| content | varchar | 是       | 评论内容         |
| activityid |int| 是       |评论活动的时候，post要评论的活动id     |
| commentid |int| 是       |要回复的评论id（需要回复谁只需要把评论的id填下来就行）     |
| blogid |int| 是       |评论博客的时候，post要评的博客id     |

>   返回参数：

| 参数   | 类型 | 说明                                                        |
|--------|------|-------------------------------------------------------------|
| 无 | sting  |评论成功为success, 失败为error |


4.收藏活动接口

URL：/activity/collection

说明：无

>   提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| userid | int  | 是       | 用户id                   |
| id     | int  | 是       | 推文id                   |

>   返回参数：

| 参数   | 类型 | 说明                                                  |
|--------|------|-------------------------------------------------------|
| msg | sting  |评论成功为success, 失败为error |

5.取消收藏活动接口

URL：/activity/deletecollection

说明：无

>   提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| userid | int  | 是       | 用户id                   |
| id     | int  | 是       | 推文id                   |

>   返回参数：

| 参数   | 类型 | 说明                                                  |
|--------|------|-------------------------------------------------------|
| msg | sting  |评论成功为success, 失败为error |


## 竞赛内容 ##

1.获取竞赛内容接口

>   URL：/compete/detail

>   提交参数：

| 参数   | 类型    | 是否必须 | 说明              |
|--------|---------|----------|-------------------|
| id     | int     | 是       | 提交推文id        |
| userid | varchar | 是       | 若未登录则提交--1 |

>   返回参数：

| 参数       | 类型    | 说明                                |
|------------|---------|-------------------------------------|
| title      | varchar | 返回推文标题                        |
| content    | varchar | 返回推文的全部内容                  |
| time       | date    | 推文的发布日期                      |
| pageviews  | int     | 推文被浏览的次数                    |
| author     | varchar | 返回推文的作者                      |
| collection | int     | 1为该文章被收藏，-1为该文章未被收藏 |
| team | json数组     | 队伍列表 |


>     team:

| 参数       | 类型    | 说明                                |
|------------|---------|-------------------------------------|
| id         | int     | 返回队伍的id                        |
| author     | varchar | 返回组队的作者                      |
| avatar     | varchar | 返回作者的头像链接                  |
| content    | varchar | 返回组队的内容                      |
| name       | varchar | 返回组队的队伍名称                  |
| count      | int     | 返回队伍所需人数                    |
| time       | date    | 组队信息的发布日期                  |

2.发布组队信息接口

>   URL：/compete/team

>   提交参数：

| 参数   | 类型    | 是否必须 | 说明              |
|--------|---------|----------|-------------------|
| id     | int     | 是       | 提交推文id        |
| userid | varchar | 是       | 若未登录则提交--1 |
| name   | varchar | 是       | 队伍名称          |
| number | int     | 是       | 队伍人数          |
| lam    | varchar | 是       | 留言              |
|        |         |          |                   |

>   返回参数：

| 参数   | 类型 | 说明                                                  |
|--------|------|-------------------------------------------------------|
| status | Int  | 返回提交情况（提交成功返回200，失败返回相应的错误码） |

3.加入队伍接口

>   URL：/compete/join

>   提交参数：

| 参数   | 类型    | 是否必须 | 说明              |
|--------|---------|----------|-------------------|
| id     | int     | 是       | 提交队伍id        |
| userid | varchar | 是       | 若未登录则提交--1 |

>   返回参数：

| 参数   | 类型 | 说明                                                  |
|--------|------|-------------------------------------------------------|
| status | Int  | 返回提交情况（提交成功返回200，失败返回相应的错误码） |

4.收藏竞赛接口

URL：/compete/collection

说明：无

提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| userid | int  | 是       | 用户id                   |
| id     | int  | 是       | 推文id                   |

>   返回参数：

| 参数   | 类型 | 说明                                                  |
|--------|------|-------------------------------------------------------|
| msg | string  | 返回提交情况（提交成功返回success，失败返回error） |

5.取消收藏竞赛接口

URL：/compete/deletecollection

说明：无

>   提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| userid | int  | 是       | 用户id                   |
| id     | int  | 是       | 推文id                   |

>   返回参数：

| 参数   | 类型 | 说明                                                  |
|--------|------|-------------------------------------------------------|
| msg | string  | 返回提交情况（提交成功返回success，失败返回error） |

## 社区 ## 

1.社区
URL: /community

说明：当sort是0时，就根据热度排序，1时就根据时间排序, 2为只看关注的人

提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| sort | int  | 是       | 排序                   |
| userid | int  | 是       | 用户id                   |

返回参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| data | json数组  | 是       | 博客列表                   |


data: 

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| id | int  | 是       | 博客的id                   |
| title | string  | 是       | 博客的title                  |
| authorid | int  | 是       | 博客作者的id                   |
| pageviews | int  | 是       | 浏览量                   |
| time | data  | 是       | 博客的创建时间                   |
| author | string  | 是       | 博客作者的名字                   |
| avatar | string  | 是       | 作者的头像                   |

2.获取博客的详情
URL: /blog/deatil

提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| id | int  | 是       | 博客id                   |
| userid | int  | 是       |用户id                  |


返回参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| id     | int  | 是       | 博客的id                 |
| title  | string  | 是    |  博客的title             |
| content| string  | 是    | 博客的内容               |
| authorid | int  | 是     | 博客作者的id             |
| pageviews | int  | 是    | 浏览量                   |
| collection | string  | 是 | 1收藏，-1未收藏         |
| follow | string  | 是     | 1关注，-1未关注         |
| time | data  | 是       | 博客的创建时间            |
| author | string  | 是       | 博客作者的名字        |
| avatar | string  | 是       | 作者的头像            |
| comments | json数组  | 是       | 评论(数据格式和评论的回复一致)           |

3.评论博客
URL: /comment

提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
pass|pass|pass|评论跟活动评论一样接口

返回参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| msg     | string  | 是       | 评论成功为success，失败为error                 |

4.关注博客作者
URL: /follow

提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| follower | int  | 是       | 要关注他人的用户的id                  |
| followed | int  | 是       |被关注的用户的id                  |

返回参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| msg    | string  | 是       | 关注成功为success，关注为error                 |


4.取消关注博客作者
URL: /unfollow

提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| follower | int  | 是       | 要关注他人的用户的id                  |
| followed | int  | 是       |被关注的用户的id                  |

返回参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| msg    | string  | 是       | 关注成功为success，关注为error                 |

5.收藏博客接口

URL：/blog/collection

说明：无

提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| userid | int  | 是       | 用户id                   |
| id     | int  | 是       | 推文id                   |

>   返回参数：

| 参数   | 类型 | 说明                                                  |
|--------|------|-------------------------------------------------------|
| msg | string  | 返回提交情况（提交成功返回success，失败返回error） |

5.取消收藏博客接口

URL：/blog/deletecollection

说明：无

>   提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| userid | int  | 是       | 用户id                   |
| id     | int  | 是       | 推文id                   |

>   返回参数：

| 参数   | 类型 | 说明                                                  |
|--------|------|-------------------------------------------------------|
| msg | string  | 返回提交情况（提交成功返回success，失败返回error） |


## 我的 ##

1. 获取用户信息
URL: /user/data

提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| id | int  | 是       | 用户id                   |

返回参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| username| string  | 是    | 用户账号(不可更改)               |
| nickname | int  | 是     | 用户昵称(可更改)             |
| sex | int  | 是    | 性别(0为保密，1为男，2为女                   |
| school | string  | 是 | 学校         |
| avatar | string  | 是     | 头像         |

2. 修改用户信息
URL: /user/edit

提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| id | int  | 是       | 用户id                   |
| sex| int  | 跟性别必须有大于等于一个       | 用户性别                 |
| nickname| int  | 跟性别必须有大于等于一个      | 用户昵称                   |

返回参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| msg    | string  | 是       | 关注成功为success，关注为error                 |




3. 查看我的博客
URL: /user/myblog

提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| userid | int  | 是       | 用户id                   |
 

返回参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
|title    | string  | 是       | 博客标题  |
|id|int|是|博客id|
|pageviews|int|是|浏览次数|
|time|datetime|是|创建时间|





4. 查看我关注的人
URL: /user/following

提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| userid | int  | 是       | 用户id                   |
 

返回参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
|username|
|userid|
|acatar|



5. 查看我收藏的竞赛
URL: /user/colcompete

提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| userid | int  | 是       | 用户id                   |
 

返回参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
|title    | string  | 是       | 标题  |
|id|int|是|竞赛id|
|pageviews|int|是|浏览次数|
|time|datetime|是|创建时间|



5. 查看我收藏的活动
URL: /user/colactivity

提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| userid | int  | 是       | 用户id                   |
 

返回参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
|title    | string  | 是       | 标题  |
|id|int|是|竞赛id|
|pageviews|int|是|浏览次数|
|time|datetime|是|创建时间|



6. 查看我收藏的博客
URL: /user/colblog

提交参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
| userid | int  | 是       | 用户id                   |
 

返回参数：

| 参数   | 类型 | 是否必须 | 说明                     |
|--------|------|----------|--------------------------|
|title    | string  | 是       | 标题  |
|id|int|是|竞赛id|
|pageviews|int|是|浏览次数|
|time|datetime|是|创建时间|
